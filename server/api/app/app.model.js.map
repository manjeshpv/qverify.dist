{"version":3,"sources":["api/app/app.model.js"],"names":[],"mappings":";;AACA,OAAO,OAAP,GAAiB,SAAS,QAAT,CAAkB,SAAlB,EAA6B,SAA7B,EAAwC;AACvD,MAAM,MAAM,UAAU,MAAV,CAAiB,KAAjB,EAAwB;AAClC,QAAI;AACF,YAAM,UAAU,OAAV,CAAkB,EAAlB,CADJ;AAEF,qBAAe,IAFb;AAGF,kBAAY,IAHV;AAIF,iBAAW,KAJT;AAKF,cAAQ;AALN,KAD8B;AAQlC,UAAM;AACJ,YAAM,UAAU,MAAV,CAAiB,GAAjB,CADF;AAEJ,gBAAU;AACR,aAAK,CAAC,CAAD,EAAI,GAAJ;AADG,OAFN;AAKJ,iBAAW;AALP,KAR4B;AAelC,eAAW;AACT,YAAM,UAAU,MAAV,CAAiB,EAAjB,CADG;AAET,cAAQ,IAFC;AAGT,gBAAU;AACR,aAAK,CAAC,CAAD,EAAI,EAAJ;AADG,OAHD;AAMT,iBAAW;AANF,KAfuB;AAuBlC,mBAAe;AACb,YAAM,UAAU,MAAV,CAAiB,EAAjB,CADO;AAEb,gBAAU;AACR,aAAK,CAAC,CAAD,EAAI,EAAJ;AADG,OAFG;AAKb,iBAAW;AALE,KAvBmB;AA8BlC,kBAAc;AACZ,YAAM,UAAU,MAAV,CAAiB,GAAjB,CADM;AAEZ,gBAAU;AACR,aAAK,CAAC,CAAD,EAAI,GAAJ;AADG,OAFE;AAKZ,iBAAW;AALC;AA9BoB,GAAxB,EAqCT;AACD,eAAW,MADV;AAED,gBAAY,KAFX;AAGD,iBAAa,IAHZ;;AAKD,kBAAc;AACZ,eADY,qBACF,MADE,EACM;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAI,OAAJ,CAAY,OAAO,WAAnB;AACA,YAAI,OAAJ,CAAY,OAAO,YAAnB;;AAEA,YAAI,SAAJ,CAAc,OAAO,IAArB,EAA2B;AACzB,sBAAY;AADa,SAA3B;AAGD;AApBW;AALb,GArCS,CAAZ;;AAkEA,SAAO,GAAP;AACD,CApED","file":"api/app/app.model.js","sourcesContent":["\r\nmodule.exports = function AppModel(sequelize, DataTypes) {\r\n  const App = sequelize.define('App', {\r\n    id: {\r\n      type: DataTypes.INTEGER(14),\r\n      autoIncrement: true,\r\n      primaryKey: true,\r\n      allowNull: false,\r\n      unique: true,\r\n    },\r\n    name: {\r\n      type: DataTypes.STRING(255),\r\n      validate: {\r\n        len: [5, 255],\r\n      },\r\n      allowNull: false,\r\n    },\r\n    client_id: {\r\n      type: DataTypes.STRING(64),\r\n      unique: true,\r\n      validate: {\r\n        len: [8, 64],\r\n      },\r\n      allowNull: false,\r\n    },\r\n    client_secret: {\r\n      type: DataTypes.STRING(64),\r\n      validate: {\r\n        len: [8, 64],\r\n      },\r\n      allowNull: false,\r\n    },\r\n    redirect_uri: {\r\n      type: DataTypes.STRING(255),\r\n      validate: {\r\n        len: [5, 255],\r\n      },\r\n      allowNull: false,\r\n    },\r\n  }, {\r\n    tableName: 'apps',\r\n    timestamps: false,\r\n    underscored: true,\r\n\r\n    classMethods: {\r\n      associate(models) {\r\n        //App.belongsToMany(models.Scope, {\r\n        //  through: {\r\n        //    model: models.ItemScope,\r\n        //    unique: false,\r\n        //    scope: {\r\n        //      taggable: 'app',\r\n        //    },\r\n        //  },\r\n        //  foreignKey: 'scopable_id',\r\n        //  constraints: false,\r\n        //});\r\n\r\n        App.hasMany(models.AccessToken);\r\n        App.hasMany(models.RefreshToken);\r\n\r\n        App.belongsTo(models.User, {\r\n          foreignKey: 'user_username',\r\n        });\r\n      },\r\n    },\r\n  });\r\n\r\n  return App;\r\n};\r\n"],"sourceRoot":"/source/"}